#include <bits/stdc++.h>

int timer = 0;
int disc[101];
int low[101];

void track(int u, int par, vector<vector<int> >& adj, vector<vector<int> >& ans)
{
    disc[u] = low[u] = timer++;

    for (int v : adj[u])
    {
        if (!disc[v])
        {
            track(v, u, adj, ans);

            if (low[v] > disc[u]) {
                ans.push_back({u + 1, v + 1});
            }

            low[u] = min(low[u], low[v]);
        }
        else if (v != par)
            low[u] = min(low[u], disc[v]);
    }
}

vector<vector<int> > criticalConnections(int n, int m, vector<vector<int> >& edges)
{
    // Write your code here.
    vector<vector<int> > adj(n);

    for (auto &e : edges)
    {
        adj[e[0] - 1].push_back(e[1] - 1);
        adj[e[1] - 1].push_back(e[0] - 1);
    }

    timer = 1;
    
    for (int i = 0; i < n; i++)
    {
        disc[i] = low[i] = 0;
    }

    vector<vector<int> > ans;

    track(0, -1, adj, ans);

    return ans;
}
