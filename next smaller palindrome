#include <bits/stdc++.h> 
string nextSmallerPalindrome(string &s) {
	// Write your code here.
	if (s == "1") {
		return "0";
	}

	int n = (int)s.size();
	int mid = n / 2;

	for (int i = mid; i < n; i++)
	{
		int digit = s[i] - '0';

		if (digit)
		{
			s[i] = s[n - i - 1] = (digit - 1) + '0';
			break;
		}
		else
			s[i] = s[n - i - 1] = '9';
	}

	if (s[0] == '0')
	{
		s[0] = '9';
		return s.substr(0, n - 1);
	}

	return s;
}
